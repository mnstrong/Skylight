/* ============================================================
   SKYLIGHT PROFILE DASHBOARD
   Rich, illustrated card layout inspired by Habets screenshot
   ============================================================ */

/* ---- Overlay / Fullscreen ---- */
#profileDashboardMount {
    position: fixed;
    inset: 0;
    z-index: 8000;
    pointer-events: none;
}

.pdb-overlay {
    position: fixed;
    inset: 0;
    background: rgba(20, 20, 40, 0.5);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex;
    align-items: stretch;
    justify-content: flex-end;
    z-index: 8000;
    pointer-events: all;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.pdb-overlay.pdb-visible {
    opacity: 1;
}

.pdb-overlay.pdb-hiding {
    opacity: 0;
}

/* ---- Main container â€” slides in from right ---- */
.pdb-container {
    width: 100%;
    max-width: 860px;
    background: #F4F5FA;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
    transform: translateX(60px);
    opacity: 0;
    transition: transform 0.35s cubic-bezier(.34,1.2,.64,1), opacity 0.3s ease;
    box-shadow: -20px 0 60px rgba(0,0,0,0.15);
}

.pdb-visible .pdb-container {
    transform: translateX(0);
    opacity: 1;
}

.pdb-hiding .pdb-container {
    transform: translateX(80px);
    opacity: 0;
}

/* ---- Close button ---- */
.pdb-close {
    position: absolute;
    top: 18px;
    right: 18px;
    background: rgba(255,255,255,0.25);
    border: none;
    width: 38px;
    height: 38px;
    border-radius: 50%;
    font-size: 22px;
    color: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding-bottom: 2px;
    transition: background 0.15s;
    z-index: 10;
    backdrop-filter: blur(4px);
}
.pdb-close:hover { background: rgba(255,255,255,0.4); }

/* ---- HERO ---- */
.pdb-hero {
    position: relative;
    padding: 36px 28px 28px;
    min-height: 200px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    gap: 14px;
    overflow: hidden;
    flex-shrink: 0;
}

/* Decorative blurred circle behind hero */
.pdb-hero-deco {
    position: absolute;
    width: 320px;
    height: 320px;
    background: rgba(255,255,255,0.12);
    border-radius: 50%;
    top: -100px;
    right: -80px;
    pointer-events: none;
}

.pdb-hero-deco::after {
    content: '';
    position: absolute;
    width: 200px;
    height: 200px;
    background: rgba(255,255,255,0.08);
    border-radius: 50%;
    top: 120px;
    left: -60px;
}

.pdb-hero-content {
    display: flex;
    align-items: center;
    gap: 18px;
    position: relative;
}

.pdb-avatar {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: rgba(255,255,255,0.3);
    border: 3px solid rgba(255,255,255,0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: "Jost", sans-serif;
    font-size: 28px;
    font-weight: 800;
    color: #fff;
    text-shadow: 0 2px 8px rgba(0,0,0,0.15);
    backdrop-filter: blur(4px);
    flex-shrink: 0;
}

.pdb-hero-text {
    flex: 1;
}

.pdb-greeting {
    font-family: "Jost", sans-serif;
    font-size: 14px;
    font-weight: 500;
    color: rgba(255,255,255,0.8);
    letter-spacing: 0.3px;
}

.pdb-hero-name {
    font-family: "Jost", sans-serif;
    font-size: 32px;
    font-weight: 800;
    color: #fff;
    line-height: 1.1;
    text-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.pdb-hero-date {
    font-family: "Jost", sans-serif;
    font-size: 13px;
    color: rgba(255,255,255,0.75);
    font-weight: 500;
    margin-top: 3px;
}

/* Hero quick-stat pills */
.pdb-hero-pills {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    position: relative;
}

.pdb-pill {
    background: rgba(255,255,255,0.22);
    backdrop-filter: blur(4px);
    border: 1px solid rgba(255,255,255,0.35);
    border-radius: 20px;
    padding: 5px 13px;
    font-family: "Jost", sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: #fff;
}

/* ---- CARD GRID ---- */
.pdb-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    padding: 20px 20px 32px;
    flex: 1;
}

/* ---- BASE CARD ---- */
.pdb-card {
    background: #fff;
    border-radius: 22px;
    padding: 18px 18px 16px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(60,60,100,0.07);
    display: flex;
    flex-direction: column;
    gap: 12px;
    transition: transform 0.18s ease, box-shadow 0.18s ease;
}

.pdb-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(60,60,100,0.12);
}

/* Decorative blob overlay on cards */
.pdb-card-deco {
    position: absolute;
    inset: 0;
    pointer-events: none;
    opacity: 0.7;
}

/* Wide cards span full width */
.pdb-card-wide {
    grid-column: 1 / -1;
}

/* ---- Card header ---- */
.pdb-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
}

.pdb-card-icon {
    width: 34px;
    height: 34px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.pdb-card-title {
    font-family: "Jost", sans-serif;
    font-size: 15px;
    font-weight: 700;
    color: #2d2d3a;
    flex: 1;
}

.pdb-card-link {
    background: none;
    border: none;
    font-family: "Jost", sans-serif;
    font-size: 12px;
    font-weight: 600;
    color: #8888aa;
    cursor: pointer;
    padding: 0;
    white-space: nowrap;
    transition: color 0.15s;
}
.pdb-card-link:hover { color: #4a4a6a; }

/* ---- Empty mini state ---- */
.pdb-empty-mini {
    font-family: "Jost", sans-serif;
    font-size: 13px;
    color: #aaaabc;
    text-align: center;
    padding: 12px 0 4px;
    font-style: italic;
}

/* ---- SCHEDULE card ---- */
.pdb-event-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    position: relative;
}

.pdb-event-row {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 8px 10px;
    background: #F5F6FA;
    border-radius: 12px;
}

.pdb-event-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    flex-shrink: 0;
    margin-top: 4px;
}

.pdb-event-info { flex: 1; min-width: 0; }

.pdb-event-title {
    font-family: "Jost", sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #2d2d3a;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.pdb-event-time {
    font-family: "Jost", sans-serif;
    font-size: 12px;
    color: #9999aa;
    margin-top: 1px;
}

/* ---- WEATHER card ---- */
.pdb-card-weather {
    align-items: center;
    justify-content: center;
    min-height: 150px;
    gap: 4px;
    border: none;
}

.pdb-weather-icon {
    font-size: 46px;
    line-height: 1;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
}

.pdb-weather-temp {
    font-family: "Jost", sans-serif;
    font-size: 36px;
    font-weight: 800;
    color: #3a3a2a;
    line-height: 1;
}

.pdb-weather-label {
    font-family: "Jost", sans-serif;
    font-size: 12px;
    color: #9a8a5a;
    font-weight: 500;
}

/* ---- CHORES card ---- */
.pdb-chore-list {
    display: flex;
    flex-direction: column;
    gap: 7px;
    position: relative;
}

.pdb-chore-row {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 7px 10px;
    background: #F8F9FB;
    border-radius: 10px;
}

.pdb-chore-late { background: #FFF0F0; }

.pdb-chore-icon { font-size: 16px; flex-shrink: 0; }

.pdb-chore-name {
    font-family: "Jost", sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: #2d2d3a;
    flex: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.pdb-chore-freq {
    font-family: "Jost", sans-serif;
    font-size: 11px;
    color: #aaaabc;
    font-weight: 500;
}

.pdb-chore-stars {
    font-size: 11px;
    font-family: "Jost", sans-serif;
    font-weight: 600;
    color: #c07038;
    background: #fff4e0;
    padding: 1px 6px;
    border-radius: 8px;
}

.pdb-more {
    font-family: "Jost", sans-serif;
    font-size: 12px;
    color: #aaaabc;
    text-align: center;
    padding-top: 4px;
}

/* ---- HABITS card ---- */
.pdb-habits-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    position: relative;
}

.pdb-habit-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    cursor: pointer;
    padding: 6px 4px;
    border-radius: 12px;
    transition: background 0.15s;
}
.pdb-habit-item:hover { background: #F5F6FA; }
.pdb-habit-done { background: #F0FFF4; }

.pdb-habit-name {
    font-family: "Jost", sans-serif;
    font-size: 10px;
    font-weight: 600;
    color: #4a4a5a;
    text-align: center;
    line-height: 1.2;
    max-width: 60px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.pdb-habit-streak {
    font-family: "Jost", sans-serif;
    font-size: 10px;
    font-weight: 700;
    color: #c07038;
}

/* ---- STARS / REWARDS card ---- */
.pdb-card-stars { border: none; }

.pdb-stars-big {
    font-family: "Jost", sans-serif;
    font-size: 42px;
    font-weight: 900;
    color: #2d2d3a;
    text-align: center;
    line-height: 1;
}

.pdb-stars-label {
    font-family: "Jost", sans-serif;
    font-size: 12px;
    color: #9999aa;
    text-align: center;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: -4px;
}

.pdb-rewards-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.pdb-reward-row {
    display: flex;
    align-items: center;
    gap: 8px;
}

.pdb-reward-emoji { font-size: 20px; flex-shrink: 0; }

.pdb-reward-info { flex: 1; min-width: 0; }

.pdb-reward-name {
    font-family: "Jost", sans-serif;
    font-size: 12px;
    font-weight: 600;
    color: #2d2d3a;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.pdb-reward-bar-wrap {
    display: flex;
    align-items: center;
    gap: 5px;
    margin-top: 3px;
}

.pdb-reward-bar {
    flex: 1;
    height: 5px;
    background: #E8E6CC;
    border-radius: 10px;
    overflow: hidden;
}

.pdb-reward-fill {
    height: 100%;
    border-radius: 10px;
    transition: width 0.5s ease;
}

.pdb-reward-pct {
    font-family: "Jost", sans-serif;
    font-size: 10px;
    color: #aaa88a;
    font-weight: 600;
}

/* ---- UPCOMING card ---- */
.pdb-upcoming-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
    position: relative;
}

.pdb-upcoming-row {
    display: flex;
    flex-direction: column;
    gap: 1px;
    padding: 8px 10px;
    background: #F5F6FA;
    border-radius: 10px;
}

.pdb-upcoming-date {
    font-family: "Jost", sans-serif;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.4px;
}

.pdb-upcoming-title {
    font-family: "Jost", sans-serif;
    font-size: 13px;
    font-weight: 600;
    color: #2d2d3a;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ---- ALLOWANCE card ---- */
.pdb-card-allowance { border: none; }

.pdb-allowance-row {
    display: flex;
    gap: 12px;
}

.pdb-allowance-stat { flex: 1; text-align: center; }

.pdb-allowance-val {
    font-family: "Jost", sans-serif;
    font-size: 22px;
    font-weight: 800;
    color: #2d2d3a;
}

.pdb-allowance-lbl {
    font-family: "Jost", sans-serif;
    font-size: 11px;
    color: #9999aa;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.4px;
}

.pdb-allowance-bar-wrap {
    display: flex;
    align-items: center;
    gap: 8px;
}

.pdb-allowance-bar {
    flex: 1;
    height: 7px;
    background: rgba(0,0,0,0.08);
    border-radius: 10px;
    overflow: hidden;
}

.pdb-allowance-fill {
    height: 100%;
    border-radius: 10px;
    transition: width 0.6s ease;
}

.pdb-allowance-pct {
    font-family: "Jost", sans-serif;
    font-size: 11px;
    color: #4cbb8a;
    font-weight: 700;
    white-space: nowrap;
}

/* ---- MOTIVATIONAL card ---- */
.pdb-card-motive {
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 130px;
    border: none;
}

.pdb-motive-emoji {
    font-size: 40px;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.08));
}

.pdb-motive-msg {
    font-family: "Jost", sans-serif;
    font-size: 18px;
    font-weight: 800;
    color: #2d2d3a;
}

.pdb-motive-sub {
    font-family: "Jost", sans-serif;
    font-size: 13px;
    color: #6666aa;
    font-weight: 500;
}

/* ============================================================
   MOBILE
   ============================================================ */
@media (max-width: 768px) {
    .pdb-container {
        max-width: 100%;
        box-shadow: none;
    }

    .pdb-grid {
        grid-template-columns: 1fr;
        padding: 14px 14px 40px;
        gap: 12px;
    }

    .pdb-card-wide { grid-column: 1; }

    .pdb-hero {
        padding: 28px 18px 20px;
        min-height: 170px;
    }

    .pdb-hero-name { font-size: 26px; }

    .pdb-habits-grid {
        grid-template-columns: repeat(4, 1fr);
    }

    .pdb-stars-big { font-size: 36px; }
}

/* ============================================================
   PROFILE PICKER
   ============================================================ */
.ppick-overlay {
    position: fixed;
    inset: 0;
    background: rgba(20,20,40,0.45);
    backdrop-filter: blur(6px);
    z-index: 9500;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: hFadeIn 0.18s ease;
}

.ppick-modal {
    background: #fff;
    border-radius: 28px;
    padding: 26px 24px 22px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-width: 280px;
    max-width: 360px;
    width: 90%;
    box-shadow: 0 24px 60px rgba(20,20,60,0.22);
    animation: hModalIn 0.28s cubic-bezier(.34,1.56,.64,1);
}

.ppick-title {
    font-family: "Jost", sans-serif;
    font-size: 18px;
    font-weight: 700;
    color: #2d2d3a;
    text-align: center;
    margin-bottom: 4px;
}

.ppick-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.ppick-btn {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 13px 18px;
    background: color-mix(in srgb, var(--pmc, #aaa) 10%, white);
    border: 2px solid color-mix(in srgb, var(--pmc, #aaa) 30%, white);
    border-radius: 16px;
    cursor: pointer;
    font-family: "Jost", sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: #2d2d3a;
    width: 100%;
    transition: background 0.15s, transform 0.15s;
    text-align: left;
}

.ppick-btn:hover {
    background: color-mix(in srgb, var(--pmc, #aaa) 18%, white);
    transform: translateY(-1px);
}

.ppick-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--pmc, #aaa);
    color: #fff;
    font-size: 18px;
    font-weight: 800;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    text-shadow: 0 1px 3px rgba(0,0,0,0.15);
}

.ppick-cancel {
    margin-top: 4px;
    padding: 11px;
    background: #E8EBF0;
    border: none;
    border-radius: 12px;
    font-family: "Jost", sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #5C6370;
    cursor: pointer;
    transition: background 0.15s;
}
.ppick-cancel:hover { background: #D5D9E0; }